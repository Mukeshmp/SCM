<!DOCTYPE html>
<html lang="en" th:replace="~{base :: parent(~{::#content},~{::title},~{::script})}">

<head>
    <title data-th-text="${loggedInUser.name}+' |  SCM'">Profile Page</title>
</head>

<body>
    <div id="content">
        <!-- sidebar -->

        <!-- user is logged in : sidebar -->

        <div th:if="${loggedInUser}">
            <div data-th-replace="~{user/sidebar :: sidebar}"></div>
        </div>

        <!-- Page Content Wrapper -->
        <div class="ml-64 mt-24 p-6"> <!-- Adjust margin-left (ml-64) to match sidebar width, and mt-20 for navbar -->
            <div class="max-w-4xl mx-auto bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
                <h1 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-white">Send Email</h1>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    Use this form to send a direct message via email.
                </p>

                <form th:action="@{/user/send-message}" th:object="${emailForm}" method="post">
                    <!-- To Email -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">
                            To Email
                        </label>
                        <input type="email"
                               th:field="*{toEmail}"
                               class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white dark:border-gray-600"
                               placeholder="example@email.com" required />
                    </div>
                
                    <!-- Subject -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">
                            Subject
                        </label>
                        <input type="text"
                               th:field="*{subject}"
                               class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white dark:border-gray-600"
                               placeholder="Subject" required />
                    </div>
                
                    <!-- Message -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">
                            Message
                        </label>
                        <textarea rows="6"
                                  th:field="*{message}"
                                  class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 dark:text-white dark:border-gray-600"
                                  placeholder="Write your message here..." required></textarea>
                    </div>
                
                    <!-- Send Button -->
                    <div class="text-center">
                        <button type="submit" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
                            Send Email
                        </button>
                    </div>
                </form>
                
                
            </div>
        </div>



        <script>
            console.log("this is directmessage page");
        </script>
</body>

</html>